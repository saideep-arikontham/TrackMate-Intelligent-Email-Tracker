/* =========================
   Trackmate Theme (Dark + Light)
   ========================= */

/* ---------- Base theme tokens (Dark by default) ---------- */
:root{
  --bg:#060b1a;
  --bg2:#0b1120;
  --card:rgba(16, 24, 40, .65);
  --ring: rgba(99,102,241,.45);
  --border: rgba(255,255,255,.08);
  --accent1:#7c3aed; /* indigo-600 */
  --accent2:#22d3ee; /* cyan-400 */
}

body{
  color-scheme: dark;
  font-family:'Inter',sans-serif;
  background:
    radial-gradient(1200px 800px at 10% -10%, rgba(124,58,237,.25), transparent 55%),
    radial-gradient(900px 700px at 110% 10%, rgba(34,211,238,.18), transparent 55%),
    radial-gradient(600px 500px at 50% 120%, rgba(59,130,246,.12), transparent 60%),
    var(--bg2);
  color:#e5e7eb;
  min-height:100vh;
  position: relative;
  overflow-x: hidden;
}

/* Subtle dotted grid */
body::before{
  content:"";
  position:fixed; inset:0;
  background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,.06) 1px, transparent 0);
  background-size:22px 22px;
  opacity:.25;
  pointer-events:none;
  mask-image: radial-gradient(80% 80% at 50% 0%, #000 60%, transparent 100%);
}

/* Glass surface */
.glass{
  background: var(--card);
  backdrop-filter: blur(14px) saturate(120%);
  -webkit-backdrop-filter: blur(14px) saturate(120%);
  border:1px solid var(--border);
  box-shadow:
    inset 0 1px 0 rgba(255,255,255,.04),
    0 10px 30px rgba(2,6,23,.45);
}

/* Soft glow edge */
.glow{
  box-shadow:
    0 0 0 1px rgba(99,102,241,.25),
    0 10px 30px rgba(67,56,202,.35),
    inset 0 1px 0 rgba(255,255,255,.04);
}

/* Brand wordmark shine */
.brand{
  background: linear-gradient(90deg, #fff, #c7d2fe 35%, #a5b4fc 45%, #f5f3ff 55%, #c7d2fe 70%, #fff);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
  background-size: 300% 100%;
  animation: shine 6s linear infinite;
}
@keyframes shine{ 0%{background-position: 0% 50%} 100%{background-position: 300% 50%} }

/* Elevation hover */
.raise{ transition: transform .25s ease, box-shadow .25s ease; }
.raise:hover{ transform: translateY(-2px); box-shadow: 0 18px 40px rgba(2,6,23,.55); }

/* Soft fade-in */
@keyframes fadeIn{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:none}}
.fade-in{ animation: fadeIn .35s ease-out both; }

/* Primary gradient button */
.btn-primary{
  background-image: linear-gradient(135deg, var(--accent1), var(--accent2));
  border:1px solid rgba(255,255,255,.12);
  color:#0b1220;
  font-weight:800;
  letter-spacing:.2px;
  text-shadow: 0 1px 0 rgba(255,255,255,.25);
}
.btn-primary:hover{ filter: brightness(1.05); }
.btn-primary:focus-visible{ outline: none; box-shadow: 0 0 0 4px var(--ring); }

/* Ghost button */
.btn-ghost{
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.01));
  border:1px solid var(--border);
}
.btn-ghost:hover{ background: rgba(99,102,241,.1); border-color: rgba(99,102,241,.25); }

/* Stat pill */
.pill{
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
  border:1px solid var(--border);
}

/* Section divider */
.divider{
  height:1px;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.08), transparent);
}

/* Modal animation (keeps IDs the same) */
#email-modal[open] .modal-card{ transform: scale(.98); opacity:0 }
#email-modal .modal-card{ transform: scale(1); opacity:1; transition: all .18s ease-out; }

/* Accessibility: focus outlines */
a,button{ outline-offset: 2px }
a:focus-visible, button:focus-visible{ outline: 2px solid #818cf8 }

/* ---------- Email accordion ---------- */
.email-item .email-body{
  max-height: 0;
  overflow: hidden;
  transition: max-height .25s ease, opacity .2s ease;
  opacity: 0;
}
.email-item.open .email-body{
  max-height: 60vh;
  opacity: 1;
}
.email-item .chev{ transition: transform .2s ease; }
.email-item.open .chev{ transform: rotate(90deg); }

/* ---------- Inline spinner loader ---------- */
.inline-loader{
  display: inline-flex;
  align-items: center;
  gap: .5rem;
  min-height: 1.5rem;
}
.inline-loader .spin{
  width: 18px;
  height: 18px;
  border-radius: 9999px;
  border: 2px solid rgba(255,255,255,.18);
  border-top-color: var(--accent1);
  animation: spin .8s linear infinite;
  box-shadow: 0 0 10px rgba(124,58,237,.25);
}
@keyframes spin{ to{ transform: rotate(360deg); } }

/* Visually hidden helper */
.sr-only{
  position:absolute;
  width:1px; height:1px;
  padding:0; margin:-1px;
  overflow:hidden; clip:rect(0,0,0,0);
  white-space:nowrap; border:0;
}

/* =========================
   Light theme overrides (darker accents)
   ========================= */
/* Apply by adding class `theme-light` on <body> */
body.theme-light{
  color-scheme: light;
  color:#0f172a;
  background:
    radial-gradient(1200px 800px at 10% -10%, rgba(124,58,237,.10), transparent 55%),
    radial-gradient(900px 700px at 110% 10%, rgba(34,211,238,.10), transparent 55%),
    radial-gradient(600px 500px at 50% 120%, rgba(59,130,246,.08), transparent 60%),
    #f7fafc;

  /* darker versions of existing accents for better contrast */
  --card: rgba(255,255,255,.90);
  --border: rgba(15,23,42,.12);
  --ring: rgba(79,70,229,.40);   /* violet-700 ring */
  --accent1:#5b21b6;            /* violet-800 */
  --accent2:#0e7490;            /* cyan-700 */
}

/* Slightly more visible dotted grid on light */
body.theme-light::before{
  background-image: radial-gradient(circle at 1px 1px, rgba(15,23,42,.10) 1px, transparent 0);
  opacity:.6;
  mask-image: radial-gradient(80% 80% at 50% 0%, #000 60%, transparent 100%);
}

/* Brand wordmark: dark gradient for light bg */
body.theme-light .brand{
  background: linear-gradient(90deg, #0b1220, #1f2937 35%, #334155 45%, #1f2937 55%, #0b1220 70%, #0b1220);
  -webkit-background-clip: text;
  background-clip: text;
  color: transparent;
}

/* Common text utility overrides for legibility */
body.theme-light .text-white,
body.theme-light .text-slate-100 { color:#0b1220 !important; }
body.theme-light .text-slate-200 { color:#111827 !important; }
body.theme-light .text-slate-300 { color:#374151 !important; }
body.theme-light .text-slate-400 { color:#475569 !important; }
body.theme-light .text-slate-500 { color:#64748b !important; }

/* Darker accent shades for icon/text classes you use */
body.theme-light .text-sky-300     { color:#0369a1 !important; } /* sky-700 */
body.theme-light .text-amber-300   { color:#b45309 !important; } /* amber-700 */
body.theme-light .text-emerald-300 { color:#047857 !important; } /* emerald-700 */
body.theme-light .text-rose-300    { color:#be123c !important; } /* rose-700 */

/* Surfaces & borders on light */
body.theme-light .bg-slate-900\/40     { background-color: rgba(15,23,42,.06) !important; }
body.theme-light .border-slate-700\/60 { border-color: rgba(15,23,42,.15) !important; }
body.theme-light .border-slate-700\/40 { border-color: rgba(15,23,42,.12) !important; }

/* Light equivalent for ring-white/10 used on Kanban columns */
body.theme-light .ring-white\/10 { box-shadow: inset 0 0 0 1px rgba(15,23,42,.08) !important; }
